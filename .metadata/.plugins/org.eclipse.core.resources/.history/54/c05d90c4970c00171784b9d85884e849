package by.htp.consolelibrary;

import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.Scanner;

public class Console {
	private Library library;
	private static final String OPTION_ONE = "1. View the book presented in the library";
	private static final String OPTION_TWO = "2. Sort our library by year of publishment and show it";
	private static final String OPTION_THREE = "3. Search the book with defined author";
	private static final String EXIT_STRING = "0. Exit our library =(";
	
	public Console(Library library){
		this.library = library;
	}

	public void launch(){
		System.out.println("Hello, welcome to our Library! Choose one of the options: \n" +
				OPTION_ONE + "\n" + OPTION_TWO + "\n" + OPTION_THREE + "\n\n\n" + EXIT_STRING + "\n" + "Input your choice: ");
		Scanner sc = new Scanner(new InputStreamReader(System.in));
		while(true){
		int i = sc.nextInt();
		switch (i){
		case 1:
			library.printLib();
			break;
		case 2:
			library.sortLib();
			library.printLib();
			break;
		case 3:
			System.out.println("Input author name");
			String authorName = sc.next();
			ArrayList<Book> lib1 = library.searchByAuthor(authorName);
			if (lib1.isEmpty()){
				System.out.println("Sorry, didnt find required book");
			}
			else {
				for (Book b : lib1){
					System.out.println(b);
				}
			}
			System.out.println("make your choice");
			break;
		case 0:
			System.out.println("GOODBYE, COME AGAIN!");
			System.exit(0);
		default:
			System.out.println("Incorrect input.");
			break;
		}
		}
		
	}

}
