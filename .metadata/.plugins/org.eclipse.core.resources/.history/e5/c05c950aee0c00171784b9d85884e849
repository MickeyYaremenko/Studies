package by.htp.consolelibrary;

import java.util.ArrayList;
import java.util.Collections;
//import java.util.Scanner;
//import java.io.InputStreamReader;

public class Library {
	private ArrayList<Book> lib = new ArrayList<>();
	
//	Scanner sc1 = new Scanner(new InputStreamReader(System.in));

	public Library(ArrayList<Book> lib) {
		this.lib = lib;
	}

	public ArrayList<Book> getLib() {
		return lib;
	}

	public void setLib(ArrayList<Book> lib) {
		this.lib = lib;
	}

	public ArrayList<Book> searchByAuthor(String author) {
		ArrayList<Book> libauth = new ArrayList<>();
		for (Book b : lib) {
			if (b.getAuthor().equals(author)) {
				libauth.add(b);
			}
		}
		return libauth;

	}

	public void addBook(Book b) {
		lib.add(b);
	}
	
//	public void addBookConsole (){
//		System.out.println("Enter book title");
//		String title = sc1.next();
//		System.out.println("Enter book author");
//		String author = sc1.next();
//		System.out.println("Enter year of publishment");
//		int year = sc1.nextInt();
//		
//		Book book = new Book(title,author,year);
//		lib.add(book);
//	}

	public void deleteBook(String title) {
		for (int i = 0; i < lib.size(); i++) {
			if (lib.get(i).getTitle().equals(title)) {
				lib.remove(i);
				break;
			}
		}
	}

	public void sortLib() { //красивый вариант с использованием "звонка другу"
		Collections.sort(lib, new BookComparator());
	}

	public void sortLibi() { // некрасивый самостоятельный вариант, но тоже рабочий
		for (int j = 0; j < lib.size(); j++) {
			for (int i = 0; i < lib.size() - 1; i++) {
				int q = lib.get(i).getYear();
				int w = lib.get(i + 1).getYear();
				if (q > w) {
					Book temp = lib.get(i);
					lib.set(i, lib.get(i + 1));
					lib.set(i + 1, temp);
				}
			}
		}
	}

	public void printLib() {
		for (Book b : lib) {
			System.out.println(b);
		}
	}

}
